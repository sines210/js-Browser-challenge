

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>allo ciné star1</title>
  <link rel="stylesheet" href="./assets/stylesheet/css/star.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
</head>
<body>
  <div class="star">
    <h1>ALLO CINE ! Un click sur une des étoiles permettra des la passer au jaunes ainsi que toutes les étoiles précédentes
    <br>(voir star.html)
    </h1>

    <ul id="list-of-stars">
      <li><i class="fas fa-star"></i></li>
      <li><i class="fas fa-star"></i></li>
      <li><i class="fas fa-star"></i></li>
      <li><i class="fas fa-star"></i></li>
      <li><i class="fas fa-star"></i></li>
    </ul>
  </div>
  <div class="test"></div>
  <script>
   let stars = document.querySelectorAll("ul li");
   let listOfStars = document.querySelector("#list-of-stars")


  // je définis mon comportement 'star-unchecked' par défaut
      stars.forEach(star => 
        {star.classList.add("star-unchecked")} )

  
    // Je crée une fonction checkStars dans laquelle je crée une boucle index i ou chaque i correspond à l'index de chaque étoile. J'ajoute un addEventListener au clic de l'utilisateur sur ces étoiles indexées où devront s'fficher des fonctions sous conditions : Ainsi si les étoiles sont liées à la classe 'star-unchecked' (ce qui est le cas puisque cette classe à été attribuée plus tôt) on crée deux boucles : une boucle avec la variable "a" liée à l'index des étoiles (et donc au clic) où quand il y aura un clic sur cette étoile "a" toutes les étoiles précédant cette étoile "a" ainsi qu'elle même passeront de la classe "unchecked" à la classe "checked"(changement couleur). Puis une boucle "étoiles b" où toutes les étoiles suivant l'étoile index i cliquée passeront de la classe "checked" à la classe 'unchecked' (et donc garderont leur couleur d'origine par défaut). Enfin je crée un condition else permettant à l'utilisateur de revenir à la situation initiale(s'il veut changer sa notation par exemple) où j'inverse la situation de la variable 'a' au clic si ces étoiles sont liées à la classe "checked" pour lui redonner la classe 'unchecked'. Plus bas il y a un explicatif à propos de mon choix quand à l'utilisation de cette méthode remove et add plutôt qu'un toggle.
   let ckeckStars = () =>
   {     
       for(let i=0; i<=stars.length; i++)  
       {stars[i].addEventListener('click', () =>
         { if(stars[i].className==='star-unchecked')
         {for (let a=0; a<=i; a++)
          {stars[a].classList.remove("star-unchecked");
          stars[a].classList.add("star-checked")};
          for(let b=0; b>i; b++)
          {stars[b].classList.remove("star-checked");
          stars[b].classList.add("star-unchecked")};}
          else //stars  a checked
          {for (let a=0; a<=i; a++)
          { stars[a].classList.remove("star-checked");
           stars[a].classList.add("star-unchecked")};
          //     for(let b=0; b>i; b++)
          // {stars[b].classList.remove("star-checked");
          // stars[b].classList.add("star-unchecked")}
        }
    })}



    //Méthode avec toggle beaucoup plus concise mais le toggle revient à la situation par défaut et non à la classe que l'on a ajouté (dans cette situation cela pourrait ne pas poser de problèmes en attribuant la même couleur par défaut ou en unchecked ou bien même en ne définissant pas unchecked comme la couleur par défaut toutefois il est clair que cela pourrait poser problème dans une situation plus complexe qu'un changement de couleur à deux variables ou dans le cas d'une fonction qui serait adaptable à d'autres codes avec par exemple une couleur par défaut déjà définie )
    // for (let i=0; i<=stars.length;i++)
    // {
    //     stars[i].addEventListener("click", () =>
    //     {for (let a = 0; a<=i; a++)
    //     {stars[a].classList.remove("star-unchecked")
    //     stars[a].classList.toggle("star-checked")}; 
    //     for (let b = 0; b>i; b++)
    //     {stars[b].classList.remove("star-checked")
    //     stars[b].classList.toggle("star-unchecked")}
    //     }
    //     )
    // }
       
       
   }
       ckeckStars()

   //La feuille HTML star-other comporte une autre méthode sur laquelle j'avais commencée par travailler 
  </script>
</body>
</html>

